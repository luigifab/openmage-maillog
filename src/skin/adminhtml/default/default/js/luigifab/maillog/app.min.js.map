{"version":3,"sources":["app.js"],"sourcesContent":["/**\n * Created J/03/12/2015\n * Updated D/03/04/2022\n *\n * Copyright 2015-2022 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * Copyright 2015-2016 | Fabrice Creuzot <fabrice.creuzot~label-park~com>\n * Copyright 2017-2018 | Fabrice Creuzot <fabrice~reactive-web~fr>\n * Copyright 2020-2022 | Fabrice Creuzot <fabrice~cellublue~com>\n * https://www.luigifab.fr/openmage/maillog\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n\tNodeList.prototype.forEach = function (callback, that, i) {\n\t\tthat = that || window;\n\t\tfor (i = 0; i < this.length; i++)\n\t\t\tcallback.call(that, this[i], i, this);\n\t};\n}\n\nif (!Element.prototype.closest) {\n\tif (!Element.prototype.matches)\n\t    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\tElement.prototype.closest = function (s) {\n\t\tvar el = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType == 1);\n\t\treturn null;\n\t};\n}\n\nvar maillog = new (function () {\n\n\t\"use strict\";\n\tthis.template = null;\n\tthis.nextIdx  = 0;\n\n\tthis.init = function () {\n\n\t\tvar elem, customer, bounce, subscriber, i, j;\n\n\t\tif (document.getElementById('maillog_sync_bounces_stats_customer')) {\n\n\t\t\tconsole.info('maillog.app - hello');\n\t\t\tcustomer   = document.getElementById('maillog_sync_bounces_stats_customer');\n\t\t\tbounce     = document.getElementById('maillog_sync_bounces_stats_bounce');\n\t\t\tsubscriber = document.getElementById('maillog_sync_unsubscribers_stats_subscriber');\n\n\t\t\ti = parseInt(customer.textContent.trim(), 10);\n\t\t\tj = parseInt(bounce.textContent.trim(), 10);\n\t\t\tbounce.textContent += ' (' + Math.floor(j * 100 / i) + ' %)';\n\n\t\t\ti = parseInt(customer.textContent.trim(), 10);\n\t\t\tj = parseInt(subscriber.textContent.trim(), 10);\n\t\t\tsubscriber.textContent += ' (' + Math.floor(j * 100 / i) + ' %)';\n\t\t}\n\t\telse if (elem = document.getElementById('row_maillog_directives_general_special_config')) {\n\n\t\t\tconsole.info('maillog.app - hello');\n\t\t\telem = elem.querySelector('tr.template');\n\n\t\t\tthis.template = elem.innerHTML;\n\t\t\tthis.nextIdx  = parseInt(elem.getAttribute('data-next'), 10);\n\n\t\t\telem.remove();\n\t\t}\n\t};\n\n\tthis.add = function (code) {\n\n\t\tvar sys = document.getElementById('maillog_sync_' + code + '_mapping_system'),\n\t\t    mag = document.getElementById('maillog_sync_' + code + '_mapping_openmage'),\n\t\t    cnf = document.getElementById('maillog_sync_' + code + '_mapping_config');\n\n\t\tif ((sys.value.length > 0) && (mag.value.length > 0)) {\n\t\t\tcnf.value = (cnf.value + '\\n' + sys.value + ':' + mag.value).trim();\n\t\t\tcnf.scrollTop = cnf.scrollHeight;\n\t\t\tsys.selectedIndex = 0;\n\t\t\tmag.selectedIndex = 0;\n\t\t\tthis.mark(code);\n\t\t}\n\t};\n\n\tthis.mark = function (code) {\n\n\t\tvar fields = document.getElementById('maillog_sync_' + code + '_mapping_config').value;\n\n\t\tdocument.getElementById('maillog_sync_' + code + '_mapping_system').querySelectorAll('option').forEach(function (elem) {\n\t\t\tif ((fields.indexOf('\\n' + elem.value + ':') > -1) || (fields.indexOf(elem.value + ':') === 0))\n\t\t\t\telem.setAttribute('class', 'has');\n\t\t\telse\n\t\t\t\telem.removeAttribute('class');\n\t\t});\n\n\t\tdocument.getElementById('maillog_sync_' + code + '_mapping_openmage').querySelectorAll('option').forEach(function (elem) {\n\t\t\tif (fields.indexOf(':' + elem.value) > -1)\n\t\t\t\telem.setAttribute('class', 'has');\n\t\t\telse\n\t\t\t\telem.removeAttribute('class');\n\t\t});\n\t};\n\n\tthis.decode = function (data) {\n\n\t\t// utf-8 avec Webkit (https://stackoverflow.com/q/3626183)\n\t\treturn decodeURIComponent(escape(atob(data)));\n\t};\n\n\tthis.iframe = function (elem) {\n\n\t\ttry {\n\t\t\telem.removeAttribute('onload');\n\t\t\telem.contentDocument.querySelector('body').parentNode.innerHTML = this.decode(elem.firstChild.nodeValue);\n\t\t\telem.style.height = elem.contentDocument.querySelector('body').scrollHeight + 'px';\n\t\t\tself.setTimeout(function () {\n\t\t\t\tvar elem = document.querySelector('div.content iframe');\n\t\t\t\telem.style.height = elem.contentDocument.querySelector('body').scrollHeight + 'px';\n\t\t\t}, 1000);\n\t\t}\n\t\tcatch (e) {\n\t\t\telem.contentDocument.querySelector('body').textContent = e;\n\t\t}\n\t};\n\n\tthis.resetValues = function (elem) {\n\n\t\telem = elem.closest('li, tr');\n\t\telem.querySelectorAll('select, input').forEach(function (input) {\n\n\t\t\tif (input.nodeName == 'SELECT')\n\t\t\t\tinput.selectedIndex = input.querySelector('option[selected]').index;\n\t\t\telse\n\t\t\t\tinput.value = input.defaultValue;\n\n\t\t\tif (input.classList.contains('h') && (input = input.closest('li').querySelector('div.rt')))\n\t\t\t\tthis.ratioPicture(input);\n\n\t\t}, this); // pour que ci-dessus this = this\n\t};\n\n\tthis.defaultLifetime = function (elem, bg, tt) {\n\n\t\telem = elem.parentNode;\n\t\telem.querySelectorAll('select')[0].selectedIndex = 0;\n\t\telem.querySelectorAll('select')[1].selectedIndex = 0;\n\t\telem.querySelectorAll('input')[0].value = bg.toLowerCase();\n\t\telem.querySelectorAll('input')[1].value = tt.toLowerCase();\n\t};\n\n\tthis.removeLifetime = function (elem) {\n\n\t\tif (confirm(Translator.translate('Are you sure?')))\n\t\t\telem.parentNode.remove();\n\t};\n\n\tthis.addPicture = function (elem) {\n\n\t\tvar tpl = document.createElement('tr'), root = elem.parentNode, tr, td;\n\t\twhile (root.nodeName !== 'TABLE')\n\t\t\troot = root.parentNode;\n\n\t\troot = root.querySelector('tbody');\n\n\t\ttpl.setAttribute('class', 'added');\n\t\ttpl.setAttribute('data-idx', this.nextIdx.toString());\n\t\ttpl.innerHTML = this.template.\n\t\t\treplace(/IIDDXX/g, this.nextIdx).\n\t\t\treplace(/KKEEYY/g, '1');\n\n\t\tif (!root.querySelector('tr.new')) {\n\t\t\ttr = document.createElement('tr');\n\t\t\ttr.setAttribute('class', 'letter new');\n\t\t\ttd = document.createElement('td');\n\t\t\ttd.setAttribute('colspan', '2');\n\t\t\ttd.setAttribute('class', 'a-center');\n\t\t\ttd.appendChild(document.createTextNode('-'));\n\t\t\ttr.appendChild(td);\n\t\t\troot.appendChild(tr);\n\t\t}\n\n\t\troot.appendChild(tpl);\n\t\ttpl.querySelector('input').focus();\n\t\tthis.nextIdx += 1;\n\n\t\treturn tpl;\n\t};\n\n\tthis.ratioPicture = function (elem) {\n\n\t\t// https://stackoverflow.com/a/11832950/2980105\n\t\tvar root = elem.closest('li'), w = root.querySelector('input.w').value, h = root.querySelector('input.h').value;\n\t\troot.querySelector('div.rt').innerHTML = (w && h) ?\n\t\t\t(Math.round((parseInt(w, 10) / parseInt(h, 10) + (Number.EPSILON ? Number.EPSILON : 0)) * 100) / 100).toLocaleString() : '';\n\t};\n\n\tthis.copyPicture = function (elem, json) {\n\n\t\tvar config = {}, name;\n\n\t\telem.closest('tr').querySelectorAll('input').forEach(function (input) {\n\t\t\tname = input.name.replace('groups[general][fields][special_config][value][', '').replace(/]\\[/g, ':').replace(']', '');\n\t\t\tname = name.substring(name.indexOf(':') + 1);\n\t\t\tconfig[name] = input.value;\n\t\t});\n\n\t\tconfig = JSON.stringify(config);\n\t\tif (json === true) {\n\t\t\treturn config;\n\t\t}\n\t\telse if (typeof navigator.clipboard == 'object') {\n\t\t\tnavigator.clipboard.writeText(config).then(function () {\n\t\t\t\telem.closest('tr').classList.add('maillog-flash');\n\t\t\t\tself.setTimeout(function () {\n\t\t\t\t\telem.closest('tr').classList.remove('maillog-flash');\n\t\t\t\t}, 1000);\n\t\t\t}, function () {\n\t\t\t\tself.prompt('copy', config);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tself.prompt('copy', config);\n\t\t}\n\t};\n\n\tthis.pastePicture = function (elem, ev) {\n\n\t\tvar config = JSON.parse((ev.clipboardData || window.clipboardData).getData('text')), idx = 1, root, line;\n\t\tev.preventDefault();\n\n\t\tif (elem.classList.contains('cde')) {\n\t\t\troot = elem.closest('tr');\n\t\t\tif (!confirm(Translator.translate('Are you sure?') + ' (paste/replace picture)'))\n\t\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\telem.closest('table').querySelectorAll('input.cde').forEach(function (input) {\n\t\t\t\tif (input.value == config.c)\n\t\t\t\t\troot = input.closest('tr');\n\t\t\t});\n\t\t\tif (root) {\n\t\t\t\tif (!confirm(Translator.translate('Are you sure?') + ' (paste/replace picture ' + config.c + ')'))\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\telse {\n\t\t\t\troot = this.addPicture(document.querySelector('button.add.picture'));\n\t\t\t}\n\t\t}\n\n\t\troot.querySelector('input.cde').value = config.c;\n\t\troot.querySelector('input.cmt').value = config.d;\n\t\troot.querySelector('li.default input.w').value = config['0:w'];\n\t\troot.querySelector('li.default input.h').value = config['0:h'];\n\t\tthis.ratioPicture(root.querySelector('li.default'));\n\n\t\troot.querySelectorAll('li.breakpoint').forEach(function (elem) { elem.remove(); });\n\t\twhile (config[idx + ':b']) {\n\t\t\tline = this.addBreak(root.querySelector('button.add.break'), false);\n\t\t\tline.querySelector('input.b').value = config[idx + ':b'];\n\t\t\tline.querySelector('input.w').value = config[idx + ':w'];\n\t\t\tline.querySelector('input.h').value = config[idx + ':h'];\n\t\t\tthis.ratioPicture(line);\n\t\t\tidx++;\n\t\t}\n\n\t\tself.scrollTo(0, root.getBoundingClientRect().top + self.scrollY - 150);\n\t\troot.querySelector('input').focus();\n\n\t\troot.closest('tr').classList.add('maillog-flash');\n\t\tself.setTimeout(function () {\n\t\t\troot.closest('tr').classList.remove('maillog-flash');\n\t\t}, 1000);\n\t};\n\n\tthis.removePicture = function (elem) {\n\n\t\tvar empty = true;\n\t\telem.closest('tr').querySelectorAll('input').forEach(function (input) { empty = empty && (input.value == ''); });\n\n\t\tif (empty || confirm(Translator.translate('Are you sure?') + ' (remove picture)'))\n\t\t\telem.closest('tr').remove();\n\t};\n\n\tthis.addBreak = function (elem, focus) {\n\n\t\tvar tpl = document.createElement('ul'), ul = elem.closest('td').querySelector('ul');\n\n\t\ttpl.innerHTML = this.template.\n\t\t\treplace(/IIDDXX/g, elem.closest('tr').getAttribute('data-idx')).\n\t\t\treplace(/KKEEYY/g, ul.querySelectorAll('li').length.toString());\n\n\t\ttpl = tpl.querySelector('li.breakpoint');\n\t\tul.appendChild(tpl);\n\n\t\tif (focus !== false)\n\t\t\ttpl.querySelector('input').focus();\n\n\t\treturn tpl;\n\t};\n\n\tthis.removeBreak = function (elem) {\n\n\t\tvar empty = true;\n\t\telem.closest('li').querySelectorAll('input').forEach(function (input) { empty = empty && (input.value == ''); });\n\n\t\tif (empty || confirm(Translator.translate('Are you sure?') + ' (remove breakpoint)'))\n\t\t\telem.closest('li').remove();\n\t};\n\n})();\n\nif (typeof self.addEventListener == 'function')\n\tself.addEventListener('load', maillog.init.bind(maillog));"],"names":["window","NodeList","prototype","forEach","callback","that","i","this","length","call","Element","closest","matches","msMatchesSelector","webkitMatchesSelector","s","el","document","documentElement","contains","parentElement","parentNode","nodeType","maillog","template","nextIdx","init","customer","bounce","subscriber","j","getElementById","console","info","parseInt","textContent","trim","Math","floor","elem","querySelector","innerHTML","getAttribute","remove","add","code","sys","mag","cnf","value","scrollTop","scrollHeight","selectedIndex","mark","fields","querySelectorAll","indexOf","setAttribute","removeAttribute","decode","data","decodeURIComponent","escape","atob","iframe","contentDocument","firstChild","nodeValue","style","height","self","setTimeout","e","resetValues","input","nodeName","index","defaultValue","classList","ratioPicture","defaultLifetime","bg","tt","toLowerCase","removeLifetime","confirm","Translator","translate","addPicture","td","tpl","createElement","root","toString","replace","tr","appendChild","createTextNode","focus","w","h","round","Number","EPSILON","toLocaleString","copyPicture","json","name","config","substring","JSON","stringify","navigator","clipboard","writeText","then","prompt","pastePicture","ev","line","parse","clipboardData","getData","idx","preventDefault","c","d","addBreak","scrollTo","getBoundingClientRect","top","scrollY","removePicture","empty","ul","removeBreak","addEventListener","bind"],"mappings":"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"}